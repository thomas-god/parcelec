<script lang="ts">
  import OrderBookComponent from "../../organisms/OrderBook.svelte";
  import type { OrderBook, Trade } from "$lib/message";

  let {
    orderBook,
    send,
    trades,
  }: {
    orderBook: OrderBook;
    send: (msg: string) => void;
    trades: Trade[];
  } = $props();
</script>

<h2 class="font-semibold text-lg mt-4 pl-4">MarchÃ© ğŸ’±</h2>

<div class="tutorial-container">
  <div>
    <p class="pt-2">
      En plus de vos centrales, le <i>marchÃ© </i> ğŸ’± vous permet d'acheter ou de vendre
      de l'Ã©nergie avec d'autres joueurs.
    </p>

    <p>
      Si deux offres d'achat et de vente ont le mÃªme prix, alors la transaction
      se fait. Sinon, les 2 offres restent sur le marchÃ© jusqu'Ã  ce que
      quelqu'un dÃ©pose une nouvelle offre ou que la pÃ©riode se termine.
    </p>
    <p class="pb-4">
      Essayer d'acheter l'Ã©nergie qu'il vous manque en crÃ©ant les ordres
      nÃ©cessaires sur le marchÃ© !
    </p>
  </div>
  <div class="bg-base-100 rounded-lg border-transparent pt-4">
    <OrderBookComponent {orderBook} {trades} {send} />
  </div>
</div>

<style>
  @media (width > 800px) {
    .tutorial-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }

    .tutorial-container > div {
      flex-grow: 1;
      flex: 1;
    }
  }
</style>
